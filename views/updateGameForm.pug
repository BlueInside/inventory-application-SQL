
extends layout

block content
    form(action=`/game/${game.id}/?_method=PUT` method='POST')
            if errors   
                ul
                    each error of errors 
                        li 
                            p= error.msg

            //- Stimulate PUT
            input(type="hidden" name="_method" value="PUT") 

            label Admin password: 
                input(type="password" name='password' required)
            label Title:
                input(type="text" name='title' placeholder='Last of us' minlength="3" maxlength="30" required value=`${game.game_title}` )
            label Description:
                input(type="text" minlength='1' name='description' required value=`${game.description}`) 
            label Image url:    
                input(type="text" maxlength='255' name='image' required value=`${game.image}`)
            label Rating: 
                input(type="range" name='rate' min='1' max='10' value=`${game.rate}` step='1' required)  
            label Publisher: 
                select(name='publisherId')
                    option(value="") --Select publisher--
                    each publisher in publishers 
                        option(value=publisher.id, selected=publisher.id == game.publisher_id) #{publisher.name}

            button(type='submit') Update game
   
    a(href="/publisher")
        button(type='button') edit publishers 

    form(action="/game?_method=DELETE" method="POST") 
        input(type="hidden" name="_method" value="DELETE") 

        input(type="hidden" name='gameId' value= `${game.id}`)
        button(type="submit") Remove game